{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>{{ title }}</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <!-- Favicon -->
  <link rel="icon" href="{% static 'images/my_icon_nobg.png' %}" type="image/png" />

  <!-- Custom Styles -->
  <link rel="stylesheet" href="{% static 'css/edit.css' %}" />
  <link id="theme-css" rel="stylesheet" href="{% static 'css/style.css' %}"
        data-dark="{% static 'css/style.css' %}" 
        data-light="{% static 'css/light.css' %}" />
</head>
<body>

  {% include "sides.html" %}

  {% block content %}
  {% endblock %}
  <!-- زر الذهاب للأعلى -->
  <button onclick="scrollToTop()" id="goTopBtn" title="Go to top"
          class="btn btn-info position-fixed bottom-3 end-3  rounded-circle p-3"
          style="display: none; z-index: 9999;">
    <i class="bi bi-arrow-up-circle-fill fs-4"></i>
  </button>

  <!-- زر النزول لأسفل -->
  <button onclick="scrollToBottom()" id="godwonBtn" title="Go to bottom"
          class="btn  position-fixed bottom-3 end-3  rounded-circle p-3">
    <i class="bi bi-arrow-down-circle-fill fs-4"></i>
  </button>

  <!-- علامة نهاية الصفحة -->
  <div id="page-bottom"></div>
<script>
  // إظهار أو إخفاء الأزرار حسب التمرير
  window.onscroll = function () {
    const goTopBtn = document.getElementById("goTopBtn");
    const goBottomBtn = document.getElementById("godwonBtn");

    if (document.body.scrollTop > 300 || document.documentElement.scrollTop > 300) {
      goTopBtn.style.display = "block";
      goBottomBtn.style.display = "none";
    } else {
      goTopBtn.style.display = "none";
      goBottomBtn.style.display = "block";
    }
  };

  // التمرير للأعلى
  function scrollToTop() {
    window.scrollTo({
      top: 0,
      behavior: 'smooth'
    });
  }

  // التمرير لأسفل
  function scrollToBottom() {
    const bottom = document.getElementById("page-bottom");
    if (bottom) {
      bottom.scrollIntoView({ behavior: 'smooth' });
    }
  }

  // ضبط الهامش العلوي للجسم حسب ارتفاع الـ navbar
  window.addEventListener('DOMContentLoaded', () => {
    const navbar = document.querySelector('.navbar');
    if (navbar) {
      document.body.style.paddingTop = navbar.offsetHeight + 'px';
    }
  });
</script>


  <!-- Custom JS -->
  <script src="{% static 'js/style_control.js' %}"></script>

  <!-- Bootstrap Bundle JS (with Popper) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Fabric.js (بدون integrity بسبب التغيير المستمر في hash القيم) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/5.3.0/fabric.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

</body>
</html>
